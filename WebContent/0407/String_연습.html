<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link href="../css/mystyle.css" rel="stylesheet" type="text/css">

<script>
function proc1(){
	
	//substr(start, length) : start에서 length(갯수)만큼 추출
	//substring(start, end): start에서 end사이의 문자를 추출
	//slice(start, end) : start에서 end사이의 문자를 자르기
	//splice(구분자, 갯수 ) : 구분자로 문자열을 구분, 배열을 리턴
	//주민번호 입력 - prompt 991010-4234567
	str = prompt("주민번호를 입력하세요");
	//주민번호 앞6자리에서 각각 2자리씩 추출한다 -yy='99' mm='10' dd='10'
	//substr, substring, slice
	yy = str.substr(0,2);
	mm = str.substr(2,2);
	dd = str.substr(4,2);
	
	//주민번호 뒤1자리 추출  -  a =  '4' 
	//substr, substring, slice , charAt
	a = str.substr(7,1);
	
	//if비교 - a값이 1이거나 2이면 y = 1900
	//    a 값이 3이거나 4이면 y = 2000
	y="";
	if(a == 1 || a == 2){
		y = 1900;
	}else if(a == 3 || a == 4){
		y = 2000;
	}
	gender ="";
	if(a == 1 || a == 3){
		gender = "male";
	}else if(a == 2 || a == 4){
		gender = "female";
		
	}
	
	b = new Date();
	c = b.getFullYear();
	
	
	//res = 생년월일 
	//res += 성별 
	//res += 나이
	res = "생년월일 : "+ (parseInt(yy) + parseInt(y))+ parseInt(mm)+ parseInt(dd) + ", 성별 : " + gender +"<br>";
	res +=  "나이 : " + (parseInt(c) - (parseInt(yy) + parseInt(y)));
	
	document.getElementById('result1').innerHTML = res;
	//출력 
	
}

function proc2(){
	// 곱하기 해줄 숫자;
	aa = "234567892345";
	
	// 주민번호 입력 (-없이)
	str = prompt("- 없이 주민번호를 입력하세요");
	
	sum = 0;
	
	// 반복문 - 각 1자리씩 추출 substr(i,1), charAt(i) 하여 곱해서 합 구하기
	for (let i = 0; i < aa.length; i++) {
		sum += parseInt(aa.charAt(i)) * parseInt(str.substr(i,1));
	}
	
	
	
	// 구한 합을 11로 나눈 나머지를 구한다.
	a = sum%11;
	// a = 11 에서 나머지 값을 뺀다.
	a = 11 - a;
	
	//if 비교 a가 10이면 a를 0으로 a가 11이면 a를 1로 변경
	if(a == 10){
		a = 0;
	}else if(a == 11){
		a = 1;
	}
	
	// 주민번호 마지막 자리와 a 값을 비교하여 같으면 진짜 틀리면 가짜
	if(parseInt(str.charAt(str.length -1)) == a){
		res = "넌 존재하는 사람이다.";
		document.getElementById('result2').innerHTML = res;
	}else{
		res = "넌 존재하는 않는 사람이다.";
		document.getElementById('result2').innerHTML = res;
	}
}
</script>

</head>
<body>

 <div class="box">
   <h2>생년월일과 성별 나이 구하기</h2>
   - 주민번호를 입력한다 991010-1234567<br>
   - 문자추출하기  - substring() substr() slice() charAt()<br>
       99 , 10,  10, 1<br>
  <br>
   <button type="button" onclick="proc1()">실행</button>
   <div id="result1"></div>
 </div>
 
 
  <div class="box">
   <h2>주민 번호 유효성 검사</h2>
   - 주민번호를 입력한다( - 없이 ) 9910101234567<br>
   - 문자추출하기  - substr(start, 1) <br><br>
  <br>
   <button type="button" onclick="proc2()">실행</button>
   <div id="result2"></div>
 </div>
</body>
</html>